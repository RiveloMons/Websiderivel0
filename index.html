<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rivelo Mons Pro</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Arial',sans-serif;transition:all .3s}
body{background:#000;color:#fff}

/* MENU */
.menu{position:fixed;top:15px;left:15px;z-index:1000;cursor:pointer}
.menu div{width:32px;height:3px;background:#fff;margin:7px 0;transition:.3s}

/* Sidebar */
.sidebar{position:fixed;left:-280px;top:0;width:260px;height:100%;background:#111;border-right:2px solid #fff;padding:40px 20px;transition:.4s;z-index:999}
.sidebar a{display:block;color:#fff;text-decoration:none;margin:25px 0;font-size:18px;border-bottom:1px solid #fff;padding-bottom:8px;transition:.3s}
.sidebar a:hover{color:#ff0}
.sidebar.active{left:0}

/* SECCIONES */
.section{display:none;padding:90px 20px;min-height:100vh}
.activeSection{display:block}

/* PORTADA */
.portada img{width:100%;max-height:90vh;object-fit:cover;border-bottom:2px solid #fff;border-radius:6px}

/* GRID */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;margin-top:40px}
.card{border:2px solid #fff;padding:15px;text-align:center;border-radius:8px;background:#111}
.card:hover{transform:scale(1.05)}
.card img{width:100%;height:140px;object-fit:contain;background:#fff;border-radius:6px}
.card h3{margin:10px 0;font-size:16px}
.card p{margin:5px 0;font-size:14px;color:#ff0}
.card button{margin-top:10px;padding:12px;border:none;background:#fff;color:#000;font-weight:bold;cursor:pointer;width:100%;font-size:14px}
.card button:hover{background:#ff0}

/* DETALLE PACK */
.packDetail{text-align:center;max-width:800px;margin:auto}
.packDetail img{width:250px;background:#fff;border-radius:10px;margin:20px 0}
.bigBtn{padding:18px;margin:12px 0;width:100%;font-size:18px;font-weight:bold;border:none;background:#fff;color:#000;cursor:pointer}
.bigBtn:hover{background:#ff0}

/* CARRITO */
.cartItem{border:1px solid #fff;margin:15px 0;padding:15px;border-radius:8px;background:#111}
.flex{display:flex;gap:10px;flex-wrap:wrap}
.cartItem button{padding:12px;border:none;background:#fff;color:#000;font-weight:bold;width:48%;cursor:pointer}
.cartItem button:hover{background:#ff0}

/* ADMIN */
#adminPanel{display:none;margin-top:30px;padding:20px;border:2px solid #fff;border-radius:8px;background:#111}
#adminPanel input, #adminPanel button{margin:6px 0;padding:10px;width:100%;border:none;border-radius:6px}
#adminPanel button{background:#fff;color:#000;font-weight:bold;cursor:pointer}
#adminPanel button:hover{background:#ff0}

footer{margin-top:60px;padding:30px 10px;border-top:2px solid #fff;text-align:center;font-size:14px}
footer a{color:#fff;text-decoration:none;margin:0 10px}
</style>
</head>
<body>

<div class="menu" onclick="toggleMenu()"><div></div><div></div><div></div></div>

<div class="sidebar" id="sidebar">
<a onclick="go('inicio')">Inicio</a>
<a onclick="go('catalogo')">Cat√°logo</a>
<a onclick="go('carrito')">Carrito</a>
<a onclick="go('admin')">Administrador</a>
</div>

<div id="inicio" class="section activeSection portada">
<img id="portadaImg" src="portada.jpg">
</div>

<div id="catalogo" class="section">
<h2>Cat√°logo</h2>
<div class="grid" id="packsGrid"></div>
</div>

<div id="detalle" class="section">
<div class="packDetail" id="packDetail"></div>
</div>

<div id="carrito" class="section">
<h2>Tu carrito</h2>
<div id="cartItems"></div>
</div>

<div id="admin" class="section">
<h2>Panel Administrador</h2>
<input type="password" id="adminPass" placeholder="Contrase√±a">
<button onclick="loginAdmin()">Entrar</button>

<div id="adminPanel">
<label>Imagen portada:</label>
<input type="text" id="portadaInput">
<button onclick="savePortada()">Guardar portada</button>
<div id="adminPacks"></div>
<button onclick="addNewPack()">A√±adir nuevo pack</button>
</div>
</div>

<footer>
<a href="https://instagram.com/riveloms" target="_blank">Instagram</a> |
<a href="https://tiktok.com/@rivelo_ms" target="_blank">TikTok</a>
</footer>

<!-- üî• FIREBASE -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
apiKey: "AIzaSyBxhX510lOEhjUbiICpumxaIA7rx7oSsbU",
authDomain: "rivelo-7d649.firebaseapp.com",
databaseURL: "https://rivelo-7d649-default-rtdb.firebaseio.com",
projectId: "rivelo-7d649",
storageBucket: "rivelo-7d649.firebasestorage.app",
messagingSenderId: "275278553118",
appId: "1:275278553118:web:4289e3eace262b43640e0f"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

window.db=db; window.ref=ref; window.set=set; window.get=get; window.child=child;
</script>

<script>
const adminPassword="RiveloPro2026!";
let packs=[];
let cart=[];

// MENU
function toggleMenu(){sidebar.classList.toggle("active")}
function go(id){
document.querySelectorAll('.section').forEach(s=>s.classList.remove('activeSection'));
document.getElementById(id).classList.add('activeSection');
sidebar.classList.remove("active");
}

// üî• CARGAR DESDE FIREBASE
async function loadData(){
const snap = await get(child(ref(db),'data'));
if(snap.exists()){
const data=snap.val();
packs=data.packs;
portadaImg.src=data.portada;
}else{
packs=[
{name:"Proveedor de Vapers",price:19,img:"https://cdn-icons-png.flaticon.com/512/2933/2933245.png",discount:0},
{name:"Proveedor Pulseras LV",price:19,img:"https://cdn-icons-png.flaticon.com/512/1077/1077114.png",discount:0},
{name:"Proveedor Accesorios lujo",price:20,img:"https://cdn-icons-png.flaticon.com/512/892/892458.png",discount:0},
{name:"Proveedor Botas f√∫tbol",price:25,img:"https://cdn-icons-png.flaticon.com/512/53/53283.png",discount:0},
{name:"Proveedor Zapatillas",price:22,img:"https://cdn-icons-png.flaticon.com/512/2589/2589903.png",discount:0},
{name:"Proveedor Tecnolog√≠a (AirPods)",price:30,img:"https://cdn-icons-png.flaticon.com/512/1041/1041916.png",discount:0},
{name:"Proveedor iPhone/AirPods",price:30,img:"https://cdn-icons-png.flaticon.com/512/15/15874.png",discount:0},
{name:"Proveedor Relojes",price:18,img:"reloj.jpg",discount:0},
{name:"Proveedor Perfumes",price:17,img:"https://cdn-icons-png.flaticon.com/512/2936/2936886.png",discount:0},
{name:"Todos los proveedores (VIP)",price:45,img:"vip.jpg",discount:0}
];
await saveData();
}
renderPacks(); renderAdminPacks();
}

async function saveData(){
await set(ref(db,'data'),{
packs:packs,
portada:portadaImg.src
});
}

// RENDER
function renderPacks(){
packsGrid.innerHTML="";
packs.forEach((p,i)=>{
let price=p.discount?`<del>${p.price}‚Ç¨</del> ${(p.price*(1-p.discount/100)).toFixed(2)}‚Ç¨`:p.price+"‚Ç¨";
packsGrid.innerHTML+=`
<div class="card">
<img src="${p.img}">
<h3>${p.name}</h3>
<p>${price}</p>
<button onclick="ver(${i})">Ver pack</button>
<button onclick="addCart(${i})">Agregar al carrito</button>
</div>`})
}

function ver(i){
let p=packs[i];
packDetail.innerHTML=`<h2>${p.name}</h2>
<img src="${p.img}">
<p>${p.price}‚Ç¨</p>
<button class="bigBtn" onclick="addCart(${i})">Agregar</button>`;
go('detalle');
}

function addCart(i){cart.push(packs[i]);renderCart()}
function renderCart(){
cartItems.innerHTML="";
cart.forEach((p,i)=>{
cartItems.innerHTML+=`<div class="cartItem">
<h3>${p.name}</h3>
<button onclick="cart.splice(${i},1);renderCart()">Eliminar</button>
</div>`})
}

// ADMIN
function loginAdmin(){
if(adminPass.value===adminPassword){
adminPanel.style.display="block";
portadaInput.value=portadaImg.src;
}
}

function savePortada(){
portadaImg.src=portadaInput.value;
saveData();
}

function renderAdminPacks(){
adminPacks.innerHTML="";
packs.forEach((p,i)=>{
adminPacks.innerHTML+=`
<div>
<input value="${p.name}" id="n${i}">
<input value="${p.price}" id="p${i}">
<input value="${p.discount}" id="d${i}">
<input value="${p.img}" id="i${i}">
<button onclick="savePack(${i})">Guardar</button>
</div>`
})
}

function savePack(i){
packs[i].name=document.getElementById("n"+i).value;
packs[i].price=Number(document.getElementById("p"+i).value);
packs[i].discount=Number(document.getElementById("d"+i).value);
packs[i].img=document.getElementById("i"+i).value;
saveData(); renderPacks(); renderAdminPacks();
}

function addNewPack(){
packs.push({name:"Nuevo pack",price:0,discount:0,img:""});
saveData(); renderPacks(); renderAdminPacks();
}

loadData();
</script>

</body>
</html>
